<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="processes_subProcess" width="650px" labelWidth="200px"  mode="edit" enableTemplate="0" ajaxSubmit="1">

<TITLE1 type="title">
  <en>Sub-Process</en>
</TITLE1>

<SP_UID type="hidden" />

<PRO_PARENT type="hidden" />

<TAS_PARENT type="hidden" />


<TASKS type="dropdown" style="width:350px" sqlConnection="dbarray" >
  SELECT * FROM NewCase
  <en>Process
  			<option name="">Select a process</option>
  </en>
</TASKS>

<SP_SYNCHRONOUS type="dropdown" defaultvalue="0">
  <en>Type
  								<option name="0">Asynchronous</option>
  								<option name="1">Synchronous</option>
  </en>
</SP_SYNCHRONOUS>

<SUBTITLE1 type="subtitle">
  <en>Variables Out</en>
</SUBTITLE1>
<grid1 type="grid" xmlgrid="processes/processes_subProcess_Out" addrow="1" deleterow="1" mode="edit"/>

<SUBTITLE2 type="subtitle">
  <en>Variables In</en>
</SUBTITLE2>
<grid2 type="grid" xmlgrid="processes/processes_subProcess_In" addrow="1" deleterow="1" mode="edit"/>

<SAVE type="button" onclick="processes_subProcessSave(this.form);">
  <en>Save</en>
</SAVE>

<JS type="javascript">
<![CDATA[

var processes_subProcessSave = function(oForm) {
  ajax_post(oForm.action, oForm, 'POST');
  Pm.tmp.subProcessPanel.remove();
};

//var dynaformOnload = function(){ 
  var grid1 = getField('grid1');
  var grid2 = getField('grid2');
  var SUBTITLE1 = getField('SUBTITLE1');
  var SUBTITLE2 = getField('SUBTITLE2');
  if(getField('SP_SYNCHRONOUS').value==1)		
  	{ showRowById(grid1);
  	  showRowById(grid2);
  	  showRowById(SUBTITLE1);
  	  showRowById(SUBTITLE2);
  	}
  else
  	{ //hideRowById(grid1);
  	  hideRowById(grid2);	
  	  //hideRowById(SUBTITLE1);
  	  hideRowById(SUBTITLE2);
  	}
//};

leimnud.event.add(getField('SP_SYNCHRONOUS'), 'change', function() {
  var grid1 = getField('grid1');
  var grid2 = getField('grid2');
  var SUBTITLE1 = getField('SUBTITLE1');
  var SUBTITLE2 = getField('SUBTITLE2');
  if (getField('SP_SYNCHRONOUS').value==1)  
	  { showRowById(grid1);
	    showRowById(grid2);
	    showRowById(SUBTITLE1);
  	  showRowById(SUBTITLE2);
	  }
  else
  	{ //hideRowById(grid1);
  	  hideRowById(grid2);
  	  //hideRowById(SUBTITLE1);
  	  hideRowById(SUBTITLE2);
  	}
  	});
  	

]]>
</JS>
</dynaForm>
