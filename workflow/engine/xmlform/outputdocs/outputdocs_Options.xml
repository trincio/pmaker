<?xml version="1.0" encoding="UTF-8"?>
<dynaForm type="xmlmenu">

<MNU_ADD type="link" value='' link="#" onclick="outputdocsAdd(); return false;" colAlign="left" colWidth="35">
  <en>New</en>
</MNU_ADD>
<PAGED_TABLE_ID type="private"/>
<!--<PAGED_TABLE_FAST_SEARCH type="FastSearch" label="@G::LoadTranslation(ID_SEARCH)"/>-->
<PRO_UID type="private"/>>
<outputdocs_Edit type="private" defaultValue="../outputdocs/outputdocs_Edit"/>
<outputdocs_Properties type="private" defaultValue="../outputdocs/outputdocs_Properties"/>
<outputdocs_Delete type="private" defaultValue="../outputdocs/outputdocs_Delete"/>
<js type="javascript" replaceTags="1">
var currentPagedTable = @#PAGED_TABLE_ID;
  function outputdocsAdd(){
		popupWindow('@G::LoadTranslation(ID_OUTPUT_DOCUMENTS)', '@G::encryptlink(@#outputdocs_Edit)?PRO_UID=@%PRO_UID' , 600, 400);
  }
  function outputdocsEdit( uid ) {
		popupWindow('@G::LoadTranslation(ID_OUTPUT_DOCUMENTS)', '@G::encryptlink(@#outputdocs_Edit)?OUT_DOC_UID='+ uid , 770, 510);
  }
  function outputdocsProperties( uid ) {
		popupWindow('@G::LoadTranslation(ID_OUTPUT_DOCUMENTS)', '@G::encryptlink(@#outputdocs_Properties)?OUT_DOC_UID='+ uid , 600, 400);
  }
  function outputdocsPropertiesSave( form ) {
    var doc = getField("OUT_DOC_FILENAME");    
    if(doc.value=='')
     { alert(G_STRINGS.ID_FILEGENERATED);
     }
    else  
     { ajax_post( form.action, form, 'POST' );
       currentPopupWindow.remove();
       @#PAGED_TABLE_ID.refresh();
     }  
  }
  function outputdocsSave( form ) {
    ajax_post( form.action, form, 'POST' );
    currentPopupWindow.remove();
    @#PAGED_TABLE_ID.refresh();
      
  }
  function outputdocsDelete( uid ) {
    new leimnud.module.app.confirm().make({
    	label:'@G::LoadTranslation(ID_MSG_CONFIRM_DELETE_OUTDOC)',
    	action:function()
    	{
        ajax_function('@G::encryptlink(@#outputdocs_Delete)','','OUT_DOC_UID='+uid,'POST');
        @#PAGED_TABLE_ID.refresh();
      }.extend(this)
    });
  }
</js>
<!-- Default Search option -->
<!--<MNU_SEARCH type="link" value='' link="#" onclick="showHideSearch('@#SEARCH_FILTER_FORM',this); return false;" colAlign="right" colWidth="130">
  <en>Advanced Search</en>
</MNU_SEARCH>-->
<SEARCH_FILTER_FORM type="private"/>
</dynaForm>